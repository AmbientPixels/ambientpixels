<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Ambient Pixels - Test Playground</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Removed all other CSS links -->
</head>
<body style="background: #1A1F21; color: #DDE4E6; font-family: 'Inter', sans-serif;">
    <h1>Test Playground</h1>
    <p>Click below to test the modal—should pop up with flair!</p>
    <button style="padding: 10px 20px; background: #E63977; color: #fff; border: none; border-radius: 5px; cursor: pointer;" onclick="showPlayModal('Play Trigger')">Trigger Modal</button>

    <!-- Barebones modal with inline CSS -->
    <div class="play-modal" id="playModal">
        <div class="modal-content">
            <p id="playModalMessage"><span id="playModalIcon"></span> <span id="playModalText"></span></p>
            <button style="padding: 10px 20px; background: #E63977; color: #fff; border: none; border-radius: 5px; cursor: pointer;" onclick="closePlayModal('playModal')">Close</button>
        </div>
        <style>
            div#playModal.play-modal {
                display: none !important;
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100% !important;
                height: 100% !important;
                background: rgba(0, 0, 0, 0.6) !important;
                z-index: 999999 !important;
            }
            div#playModal.play-modal.active {
                display: block !important;
                opacity: 1 !important;
            }
            div#playModal.play-modal .modal-content {
                position: relative !important;
                background: #252B2D !important;
                padding: 20px !important;
                margin: 15% auto !important;
                width: 50% !important;
                max-width: 500px !important;
                border-radius: 5px !important;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) !important;
                text-align: center !important;
                color: #DDE4E6 !important;
            }
        </style>
    </div>

    <script>
        const playModalContent = [
            { icon: '<i class="fas fa-bug"></i>', text: "Debug mode activated!" },
            { icon: '<i class="fas fa-robot"></i>', text: "AI testing in progress!" },
            { icon: '<i class="fas fa-bomb"></i>', text: "Chaos test underway!" }
        ];

        window.showPlayModal = function(section) {
            console.log('showPlayModal called with:', section);
            const modal = document.getElementById('playModal');
            const iconElement = document.getElementById('playModalIcon');
            const textElement = document.getElementById('playModalText');
            
            if (!modal || !iconElement || !textElement) {
                console.error('Play modal elements missing:', { modal, iconElement, textElement });
                return;
            }

            const randomContent = playModalContent[Math.floor(Math.random() * playModalContent.length)];
            iconElement.innerHTML = randomContent.icon;
            textElement.textContent = `${section}: ${randomContent.text}`;
            console.log('Modal content set:', { icon: randomContent.icon, text: textElement.textContent });
            modal.classList.add('active');
            console.log('Play modal class set to active');
        };

        window.closePlayModal = function(modalId) {
            console.log('closePlayModal called with:', modalId);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                console.log('Play modal class removed');
            } else {
                console.error(`Play modal with ID ${modalId} not found`);
            }
        };

        document.addEventListener('click', (event) => {
            const modal = document.getElementById('playModal');
            if (modal && modal.classList.contains('active') && !event.target.closest('.modal-content')) {
                console.log('Clicked outside—closing play modal');
                modal.classList.remove('active');
            }
        });
    </script>
</body>
</html>